
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>A Simple Plea for "Album" Browsing on iPod - Economy of Effort</title>
  <meta name="author" content="Brendon Rapp">

  
  <meta name="description" content="If you own an iPod and listen to complete albums, but also have mix playlists, then you know the problem very well. [caption id=&ldquo;attachment_374 &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://www.economyofeffort.com/2009/07/29/a-simple-plea-for-album-browsing-on-ipod/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Economy of Effort" type="application/atom+xml">
  <link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-3578812-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body    class="collapse-sidebar sidebar-footer" >
  <header role="banner"><hgroup>
  <div id="logo">
    <a href="/"><img src="/images/icons/area.jpg" alt="logo"></a>
  </div>
  <h1><a href="/">Economy of Effort</a></h1>
  
  <div class="clear"></div>
</hgroup>

<hgroup>
  <div id="social-icons">
    <a href="http://www.twitter.com/legion"><img src="/images/icons/webicon-twitter.png" alt="Twitter"></a>
    <a href="http://www.linkedin.com/in/legion/"><img src="/images/icons/webicon-linkedin.png" alt="LinkedIn"></a>
    <a href="http://github.com/brendonrapp"><img src="/images/icons/webicon-github.png" alt="GitHub"></a>
    <a href="mailto:brendon@economyofeffort.com"><img src="/images/icons/webicon-mail.png" alt="Mail"></a>
    <a href="atom.xml"><img src="/images/icons/webicon-rss.png" alt="RSS"></a>
  </div>
</hgroup>

</header>
  <nav role="navigation">
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:www.economyofeffort.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>

<ul class="main-navigation">
  <li><a href="/about">About</a></li>
  <li><a href="/archives">Archive</a></li>
  <li><a href="http://www.pinterest.com/legion/stuff-i-want/">Wish List</a></li>
  <li><a href="http://steamcommunity.com/id/legion/wishlist/">Steam Wish List</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      
        <h1 class="entry-title">A Simple Plea for "Album" Browsing on iPod</h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2009-07-29T02:37:58-07:00" pubdate data-updated="true">Jul 29<span>th</span>, 2009</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>If you own an iPod and listen to complete albums, but also have mix playlists, then you know the problem very well.</p>

<p>[caption id=&ldquo;attachment_374&rdquo; align=&ldquo;aligncenter&rdquo; width=&ldquo;280&rdquo; caption=&ldquo;This image should not be taken as an endorsement of Nelly Furtado&rsquo;s music. I couldn&rsquo;t find an iPod Classic Cover Flow image to steal that had Made Out of Babies on it.&rdquo;]<img src="http://www.economyofeffort.com/wp-content/uploads/2009/07/ipod_classic_2.jpg" alt="This image should not be taken as an endorsement of Nelly Furdado's music. I couldn't find an iPod Classic Cover Flow image to steal that had Mouth of the Architect on it." />[/caption]</p>

<p>You&rsquo;d like to be able to browse through your albums, but the Artist, Album, Cover Flow, etc views are cluttered with the artist and album names from your mix playlists.</p>

<p>Tons and tons of &ldquo;albums&rdquo; with all of 1 or 2 tracks in there, mixed among your actual full albums.</p>

<p>It is my assertion that players like the iPod should have an &ldquo;album browser&rdquo;, which is smart enough to only display complete albums.</p>

<p>But how would it know what&rsquo;s a complete album? Well, some simple logic and ID3 metadata is all we need. How do <em>you</em> know when you&rsquo;re looking at a full album in iTunes or not? Probably when you look at the track numbers and see track 1, track 2, etc., in an unbroken order up through 6 or 8 or 10 or so. Also, you can list how many tracks an album has in the ID3 tag, so that instead of simply track &ldquo;1&rdquo;, the MP3 appears in iPod/iTunes as &ldquo;1 of 9&rdquo;. If the tracks are numbered like that and there&rsquo;s something missing in the order up through &ldquo;9 of 9&rdquo;, then you know the album isn&rsquo;t complete.</p>

<p>Sometimes, albums are only 1 or 2 long tracks. And perhaps the disc is an EP or a single and has only 3 or so tracks and a short running time.</p>

<p>With a little bit of programming logic, we can come up with a very simple algorithm that will match almost all complete albums, with few false positives (or false negatives). It&rsquo;s not 100% bulletproof perfect, but it&rsquo;s a WHOLE lot better than nothing at all.</p>

<p>The logic would go something like this (for non-programmers, the stuff to the right ofÂ  # signs are comments explaining the pseudocode, and not &ldquo;code&rdquo; itself):</p>

<pre><code>for each album:

   # Runs if album track numbers are listed as "1 of 9", "2 of 9", etc.
   if (tracks have metadata listing number of tracks - eg. the "y" in "1 of y"):
      if there exist tracks numbered 1 through y, with none missing:
         complete = true
      else:
         # Album is missing at least 1 track between "1" and "y"
         complete = false

   # Runs if album track numbers are listed only as "1", "2", etc.
   else (tracks are missing the metadata listing the number of tracks an album has):
      if there exist tracks sequenced 1 through some number X, with none missing:
         # If there is a sequence of tracks starting from 1 that exceeds 4,
         # we'll assume it's a complete album
         if X &gt; 4:
            complete = true
         else if (running length &gt; 25):
            # If there are 4 or fewer tracks, but the running length exceeds
            # 25 minutes, we'll assume it's a complete album
            complete = true
         else:
            # It's 4 or fewer consecutive tracks and is short,
            # probably just a partially downloaded album
            complete = false
      else:
         # Does not have tracks numbering from 1 through X in an unbroken sequence
         complete = false
</code></pre>

<p>That&rsquo;s it. Given a normal collection, which doesn&rsquo;t have a ton of albums that are half-downloaded, this will yield almost perfect complete album matching.</p>

<p>With a little more thinking and research, we could refine this to further avoid false positives. I pulled the thresholds of 4 tracks and 25 minutes out of thin air. There may be more appropriate thresholds that result in more hits and fewer misses. But the point is that the general idea is sound, and that these numbers could be easily tweaked.</p>

<p>If someone allows a lot of half-downloaded albums to get into their collection, then the X > 4 rule might hit a number of false positives. But the idea, at bare minimum, is to work well for well-formed MP3 collections. We could raise this total, but I didn&rsquo;t want to exclude 5 and 6-track EPs. And of course, only half-downloaded albums that are tracks in order starting from 1, AND missing the track total metadata, would hit this rule.</p>

<p>Best of all, anyone who has issues with certain albums not matching could easily fix it by adding the &ldquo;number of tracks&rdquo; metadata to the albums that aren&rsquo;t being matched. If it really is an 18 minute, 3 track album, all you&rsquo;d have to do is edit it so the track numbers are &ldquo;1 of 3&rdquo;, &ldquo;2 of 3&rdquo;, etc. so that it would be matched against the first rule.</p>

<p>Now, an online-enabled music manager could compare tracks with its online database to confirm completeness. iTunes&#8217; &ldquo;Genius&rdquo; already scans a complete collection and interacts with an online server &ndash; it would not be difficult to have it check albums against an online database and flag albums as &ldquo;complete&rdquo; or not in the iTunes database. But the above is a solution that would yield extremely good results for the vast majority of collections, and requires nothing but the information in ID3 tags and a small bit of programming logic.</p>

<p>I would love a &ldquo;Complete Albums&rdquo; browser view on my iPod. Or even just a &ldquo;hide incomplete albums&rdquo; option to toggle, to enable and disable this sort of filtering in the Genre, Artist, and Album browser views. That would be so fantastic.</p>
</div>
  <footer>
    <p class="meta">
      categories: 

<span class="categories">
  
    <a class='category' href='/categories/general/'>General</a>
  
</span>


    </p>
  </footer>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Brendon Rapp</span></span>

      








  


<time datetime="2009-07-29T02:37:58-07:00" pubdate data-updated="true">Jul 29<span>th</span>, 2009</time>
      

<span class="categories">
  
    <a class='category' href='/categories/general/'>General</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left articlenav" href="/2009/07/17/twitter-hall-of-shame-chris-johnson/" title="Previous Post: Twitter Hall of Shame: Chris Johnson">&laquo; Twitter Hall of Shame: Chris Johnson</a>
      
      
        <a class="basic-alignment right articlenav" href="/2009/07/30/freaky-love/" title="Next Post: Freaky Love">Freaky Love &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/2014/07/20/fixed-the-archive-page/">Fixed the Archive Page</a>
      </li>
    
      <li class="post">
        <a href="/2014/07/09/vim-tricks-for-ruby-hashes/">Vim Tricks for Ruby Hashes</a>
      </li>
    
      <li class="post">
        <a href="/2014/07/04/zsh/">Zsh, Tmux, Vim, and 256 Color Madness</a>
      </li>
    
      <li class="post">
        <a href="/2013/08/03/careful-what-you-name-your-rails-partials/">Careful What You Name Your Rails Partials</a>
      </li>
    
      <li class="post">
        <a href="/2013/07/29/reattach-to-user-namespace-the-fix-for-your-tmux-in-os-x-woes/">Reattach-to-user-namespace: The Fix for Your Tmux in OS X Woes</a>
      </li>
    
  </ul>
</section>

  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Brendon Rapp -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'economyofeffort';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://www.economyofeffort.com/2009/07/29/a-simple-plea-for-album-browsing-on-ipod/';
        var disqus_url = 'http://www.economyofeffort.com/2009/07/29/a-simple-plea-for-album-browsing-on-ipod/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>











</body>
</html>
