
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>The Aftermath of Dan - Economy of Effort</title>
  <meta name="author" content="Brendon Rapp">

  
  <meta name="description" content="I work for a small design studio. Their core business is creating logos, designing signage for corporate events, and all that jazz. Over the past few &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://www.economyofeffort.com/2009/08/07/the-aftermath-of-dan/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Economy of Effort" type="application/atom+xml">
  <link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-3578812-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body    class="collapse-sidebar sidebar-footer" >
  <header role="banner"><hgroup>
  <div id="logo">
    <a href="/"><img src="/images/icons/area.jpg" alt="logo"></a>
  </div>
  <h1><a href="/">Economy of Effort</a></h1>
  
  <div class="clear"></div>
</hgroup>

<hgroup>
  <div id="social-icons">
    <a href="http://www.twitter.com/legion"><img src="/images/icons/webicon-twitter.png" alt="Twitter"></a>
    <a href="http://www.linkedin.com/in/legion/"><img src="/images/icons/webicon-linkedin.png" alt="LinkedIn"></a>
    <a href="http://github.com/brendonrapp"><img src="/images/icons/webicon-github.png" alt="GitHub"></a>
    <a href="mailto:brendon@economyofeffort.com"><img src="/images/icons/webicon-mail.png" alt="Mail"></a>
    <a href="atom.xml"><img src="/images/icons/webicon-rss.png" alt="RSS"></a>
  </div>
</hgroup>

</header>
  <nav role="navigation">
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:www.economyofeffort.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>

<ul class="main-navigation">
  <li><a href="/about">About</a></li>
  <li><a href="/archives">Archive</a></li>
  <li><a href="http://www.pinterest.com/legion/stuff-i-want/">Wish List</a></li>
  <li><a href="http://steamcommunity.com/id/legion/wishlist/">Steam Wish List</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      
        <h1 class="entry-title">The Aftermath of Dan</h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2009-08-07T18:29:54-07:00" pubdate data-updated="true">Aug 7<span>th</span>, 2009</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>I work for a small design studio. Their core business is creating logos, designing signage for corporate events, and all that jazz. Over the past few years, they&rsquo;ve found clients wanting more and more electronic-based content from them. First it was email blasts and static websites, then they wanted websites that did more than just serve up static content, and pretty soon it became web applications and even small desktop applications. Hence the creation of the job which I now fill.</p>

<p>I wasn&rsquo;t the first one to fill the job. A couple of guys came before me. My immediate predecessor, we&rsquo;ll call &ldquo;Dan&rdquo;. Dan was not particularly beloved. On the contrary, it was those oh-so-important &ldquo;people skills&rdquo; (or lack thereof) that led to his, shall we say, unscheduled exit from the position. My first week on the job ended with me getting the raise that would have been saved for after my 3 month performance review, helped in no small part to solving problems in that first week that had been long-standing issues. Most importantly, I was Not Dan.</p>

<p>I recently read a cute little article linked on Hacker News and reddit: <a href="http://sites.google.com/site/yacoset/Home/signs-that-you-re-a-bad-programmer">Signs that you&rsquo;re a bad programmer</a>. A lot of these can be applied to the code Dan left behind. Particularly, #2: &ldquo;Poor understanding of the language&rsquo;s programming mode&rdquo;, and its first symptom: &ldquo;Using whatever syntax is necessary to break out of the model, then writing the remainder of the program in their familiar language&rsquo;s style&rdquo;.</p>

<p>Dan apparently got started as a FORTRAN programmer back in the day. It&rsquo;s clear that he never really understood PHP. One of the most contentious parts of PHP development is mixing PHP code alongside HTML markup. Whether the HTML is separated out in templates, mixed with inline PHP, stored entirely in echo statements or HEREDOCs, or even just written there in the file after &ldquo;jumping out&rdquo; of PHP mode, there&rsquo;s a number of ways to approach the issue of PHP&rsquo;s coexistence with HTML markup.</p>

<p>Unfortunately, the language&rsquo;s flexibility means approaches like Dan&rsquo;s are possible. Dan clearly never quite wrapped his head around the practices I mentioned above. Instead, his concept of HTML within PHP was to wrap all HTML generation inside of tiny PHP functions. Here&rsquo;s an example:</p>

<pre><code>startTable("725", "0", "", "id=addTable");
 startRow("center","2","","","noPad");
 if($assId) {
 displayButton("Update Record", "what");
 } else {
 displayButton("Add Job", "what");
 }
 displayButton("Reset", "what", "reset");
 endRow();
 startRow("center","2","","","","top");
 echo "&lt;b&gt;Attach File:&amp;nbsp;&lt;/b&gt; ";
 displayFormItem("file", "fileNam");
 displayButton("Upload", "what");
 endRow();
</code></pre>

<p>This generates the HTML:</p>

<pre><code>&lt;&lt;span&gt;table&lt;/span&gt;&lt;span&gt; width&lt;/span&gt;=&lt;span&gt;"725" &lt;/span&gt;&lt;span&gt;id&lt;/span&gt;=&lt;span&gt;addTable &lt;/span&gt;&lt;span&gt;border&lt;/span&gt;=&lt;span&gt;"0" &lt;/span&gt;&lt;span&gt;cellpadding&lt;/span&gt;=&lt;span&gt;"0" &lt;/span&gt;&lt;span&gt;cellspacing&lt;/span&gt;=&lt;span&gt;"0"&lt;/span&gt;&gt;
&lt;&lt;span&gt;tr&lt;/span&gt;&gt;&lt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt; class&lt;/span&gt;=&lt;span&gt;noPad &lt;/span&gt;&lt;span&gt;align&lt;/span&gt;=&lt;span&gt;center &lt;/span&gt;&lt;span&gt;colspan&lt;/span&gt;=&lt;span&gt;2&lt;/span&gt;&gt;
&lt;&lt;span&gt;input&lt;/span&gt;&lt;span&gt; type&lt;/span&gt;=&lt;span&gt;submit &lt;/span&gt;&lt;span&gt;name&lt;/span&gt;=&lt;span&gt;"what" &lt;/span&gt;&lt;span&gt;value&lt;/span&gt;=&lt;span&gt;"Update Record"&lt;/span&gt;&gt;
&lt;/&lt;span&gt;td&lt;/span&gt;&gt;&lt;/&lt;span&gt;tr&lt;/span&gt;&gt;
&lt;&lt;span&gt;tr&lt;/span&gt;&gt;&lt;&lt;span&gt;td&lt;/span&gt;&lt;span&gt; align&lt;/span&gt;=&lt;span&gt;center &lt;/span&gt;&lt;span&gt;valign&lt;/span&gt;=&lt;span&gt;"top" &lt;/span&gt;&lt;span&gt;colspan&lt;/span&gt;=&lt;span&gt;2&lt;/span&gt;&gt;
&lt;&lt;span&gt;b&lt;/span&gt;&gt;Attach File:&amp;&lt;span&gt;nbsp;&lt;/span&gt;&lt;/&lt;span&gt;b&lt;/span&gt;&gt; &lt;&lt;span&gt;input&lt;/span&gt;&lt;span&gt; type&lt;/span&gt;=&lt;span&gt;file &lt;/span&gt;&lt;span&gt;name&lt;/span&gt;=&lt;span&gt;"fileNam" &lt;/span&gt;&lt;span&gt;value&lt;/span&gt;=&lt;span&gt;""&gt;&lt;/span&gt;
&lt;&lt;span&gt;input&lt;/span&gt;&lt;span&gt; type&lt;/span&gt;=&lt;span&gt;submit &lt;/span&gt;&lt;span&gt;name&lt;/span&gt;=&lt;span&gt;"what" &lt;/span&gt;&lt;span&gt;value&lt;/span&gt;=&lt;span&gt;"Upload"&lt;/span&gt;&gt;
&lt;/&lt;span&gt;td&lt;/span&gt;&gt;&lt;/&lt;span&gt;tr&lt;/span&gt;&gt;
</code></pre>

<p>Yes, instead of simply writing the HTML, everything is stuck in a function. &ldquo;endRow()&rdquo;, for example, is literally nothing more than an echo statement for &ldquo;</td></tr>&rdquo;. Every tag related to HTML tables has a function, some of which accept a ton of possible arguments for every possible thing you might want to put into that tag (a CSS class, id, border, inline CSS, etc). startRow() takes up to 7 arguments. Reading Dan&rsquo;s awful code means needing to remember what those arguments are (and what order they&rsquo;re in), as opposed to simply reading the very clear HTML that they spit out. What are those blanks for arguments #3 and #4 for in the startRow on line 2?Â  They&rsquo;re some potential <td> attributes (because, despite being &ldquo;startRow&rdquo;, the function echoes <tr> with no attributes, and then echoes the first <td>, and all these attributes belong to that first <td> tag). In this case, they&rsquo;re attributes that aren&rsquo;t being used. Which attributes? Who knows? You&rsquo;d have to go look at the definition of startRow. (Also note: this isn&rsquo;t a worst-case example. This is a pretty tame example of the kind of crap Dan did like this.)</p>

<p>PHP can be useful in HTML generation &ndash; using Zend_Form from the Zend Framework, for example, can be very handy for creating forms with validation. Dan, however, wrapped trivial HTML into PHP functions, providing <em>absolutely no</em> additional value of their own, while unnecessarily increasing complexity and destroying readability.</p>

<p>That&rsquo;s not the only gift Dan left behind, of course. Relative paths seemed to confuse Dan greatly. That meant the use of a lot of unnecessary absolute paths. It also meant that Dan would take his &ldquo;lib&rdquo; folder, which stored all his library code, and <em>copy it into subdirectories</em> so that the relative path &ldquo;lib/&rdquo; would still be valid, as opposed to usingÂ  &ldquo;/lib/&rdquo; or &ldquo;../lib/&rdquo; (or, on the HTML side, the <base> tag. Dan and <base> have never met.)</p>

<p>These are just immediate things I ran into today, when fixing some old Dan code. It should come as no surprise that, even ignoring the &ldquo;WTFs&rdquo; like these, Dan Code &trade; is pretty bad code. None of it is shocking enough to be TheDailyWTF material, but it gets a small moment of recognition here today.</p>

<p>Now I hate Dan too.</p>

<p>(Side note: one of the most frightening parts of entering the work force was doing so with no professional programming experience. I&rsquo;d been writing code nonstop since entering college, but it was a constant flurry of jumping from language to language, paradigm to paradigm, and no settling in and mastering one development technology. That&rsquo;s a <strong>good</strong> academic approach, as it breeds the ability to rapidly pick up new technologies, and develops an understanding that separates a concept from its implementation in a specific language&hellip; but it&rsquo;s no fun to then go out and see job postings wanting X years of experience all centered around one language. That blow is softened when, even in your greenness, you&rsquo;re still better than the guy that was there before you.)</p>
</div>
  <footer>
    <p class="meta">
      categories: 

<span class="categories">
  
    <a class='category' href='/categories/tech/'>Tech</a>
  
</span>


    </p>
  </footer>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Brendon Rapp</span></span>

      








  


<time datetime="2009-08-07T18:29:54-07:00" pubdate data-updated="true">Aug 7<span>th</span>, 2009</time>
      

<span class="categories">
  
    <a class='category' href='/categories/tech/'>Tech</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left articlenav" href="/2009/07/30/freaky-love/" title="Previous Post: Freaky Love">&laquo; Freaky Love</a>
      
      
        <a class="basic-alignment right articlenav" href="/2009/08/10/the-aftermath-of-dan-addendum/" title="Next Post: The Aftermath of Dan, addendum">The Aftermath of Dan, addendum &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/2014/07/20/fixed-the-archive-page/">Fixed the Archive Page</a>
      </li>
    
      <li class="post">
        <a href="/2014/07/09/vim-tricks-for-ruby-hashes/">Vim Tricks for Ruby Hashes</a>
      </li>
    
      <li class="post">
        <a href="/2014/07/04/zsh/">Zsh, Tmux, Vim, and 256 Color Madness</a>
      </li>
    
      <li class="post">
        <a href="/2013/08/03/careful-what-you-name-your-rails-partials/">Careful What You Name Your Rails Partials</a>
      </li>
    
      <li class="post">
        <a href="/2013/07/29/reattach-to-user-namespace-the-fix-for-your-tmux-in-os-x-woes/">Reattach-to-user-namespace: The Fix for Your Tmux in OS X Woes</a>
      </li>
    
  </ul>
</section>

  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Brendon Rapp -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'economyofeffort';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://www.economyofeffort.com/2009/08/07/the-aftermath-of-dan/';
        var disqus_url = 'http://www.economyofeffort.com/2009/08/07/the-aftermath-of-dan/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>











</body>
</html>
